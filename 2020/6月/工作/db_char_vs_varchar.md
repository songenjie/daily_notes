## char和varchar结构或数据存储结构相差很大，其具体实现方式依赖于存储引擎，以下以MYISAM引擎为例。

1. char是固定长度，varchar长度可变：

存储时，前者不管实际存储数据的长度，直接规定CHAR规定的长度分配存储空间；而后者会根据实际存储的数据分配最终的存储空间。通常情况下，varchar能够节约磁盘空间，为此往往认为其能够提升数据库的性能。但必须注意的是，在提升性能的同时也会有些副作用。如在更改前其字符长度为10，此时系统为其分配10个存储单元，更改后长度变为20，原先存储的位置无法满足其存储的需求，就需要一些额外的操作，根据存储引擎的不同，有的会采用拆分机制，有的采用分页机制。

eg.定义char(10)和varchar(10),存入"test",char所占存储长度为10，除了字符"test"外后面跟着6个空格，而varchar直接存4个长度；读取数据时，char用trim()去掉多余的空格，varchar直接读出数据。

2. char的存储方式是：英文字符占1个字节，汉字占用2个字节；varchar的存储方式是：英文和汉字都占用2个字节，两者的存储数据都非unicode的字符数据。

项目建议：

实际项目中要使用varchar还是char需要根据具体情况考量：

- 根据字符长度判断：在实际项目中，如果字段长度较短一般采用char

- 根据字符间长度是否相近：如果字符间长度相近甚至是相同的长度，会采用char字符类型

小问题：char(1)和varchar(1)的区别？两个都只能保存单个字符，但是varchar要多占一个或两个存储位置用来记录存储长度信息

3. 从碎片角度进行考虑：char固定长度，存储空间一次性分配，没有碎片的困扰；但是varchar在更改前后难免会有长度不一致导致存储碎片的情况，因此需要管理员时不时对碎片的处理。





4. 数据扩容




















